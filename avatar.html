<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Clarity Interview Avatar</title>
<style>
  :root{ --bg:#08131e; --txt:#e6f0ff; --muted:#9bb3c9 }
  html,body{height:100%} body{margin:0;background:radial-gradient(900px 600px at 110% -10%,#0c1f30,transparent),radial-gradient(900px 600px at -10% 120%,#0c1f30,transparent),#091524;color:var(--txt);font:15px/1.4 ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{max-width:980px;margin:28px auto;padding:0 18px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:18px 18px 22px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
  .brand{display:flex;align-items:center;gap:12px;margin:0 0 12px}
  .dot{width:18px;height:18px;border-radius:7px;background:linear-gradient(135deg,#67e8f9,#60a5fa)}
  h1{font-size:18px;margin:0}
  .panel{background:#091321;border:1px solid rgba(255,255,255,.06);border-radius:12px;padding:26px;display:grid;place-items:center;min-height:300px}
  .core{width:220px;height:220px;border-radius:9999px;background:radial-gradient(circle at 50% 38%,#9ad0ff,#a78bfa 60%,#63b3ff 100%);box-shadow:0 0 40px rgba(99,179,255,.35), 0 0 120px rgba(167,139,250,.25)}
  .ring{position:absolute;inset:0;border-radius:9999px;border:2px solid rgba(255,255,255,.08);filter:blur(.2px);animation:r 11s linear infinite}
  .wrapOrb{position:relative;width:260px;height:260px;display:grid;place-items:center}
  .ring:nth-child(1){width:260px;height:260px}
  .ring:nth-child(2){width:300px;height:300px;border-color:rgba(167,139,250,.28);animation-duration:14s}
  .ring:nth-child(3){width:340px;height:340px;border-color:rgba(99,179,255,.22);animation-duration:18s}
  @keyframes r{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
  .state{margin-top:14px;color:var(--muted);text-align:center}
  .state b{color:#e6f0ff}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="brand"><div class="dot"></div><h1>Clarity Interview Avatar</h1></div>
    <div class="panel">
      <div class="wrapOrb">
        <div class="core"></div>
        <div class="ring"></div><div class="ring"></div><div class="ring"></div>
      </div>
    </div>
    <div class="state" id="stateTxt">idle — <b>listening</b> • speaking • thinking</div>
  </div>
</div>
<script>
(function(){
  const stateTxt = document.getElementById('stateTxt');
  function set(s){
    stateTxt.innerHTML = (s==='listening' ? 'listening — <b>active</b> • speaking • thinking'
      : s==='speaking' ? 'speaking — <b>active</b> • listening • thinking'
      : s==='thinking' ? 'thinking — <b>active</b> • listening • speaking'
      : 'idle — <b>listening</b> • speaking • thinking');
  }
  window.addEventListener('message', (ev)=>{
    const d = ev?.data||{};
    if (d.type==='avatar:set') set(d.state||'idle');
  });
  setTimeout(()=> parent?.postMessage?.({ type:'avatar:ready' }, '*'), 40);
})();
</script>
</body>
</html>
